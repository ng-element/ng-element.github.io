import{I as A,L as N}from"./chunk-JYBRZQRP.js";import{Aa as E,Da as u,Ea as g,I as W,Ja as x,Ka as d,Ma as L,Na as D,O as c,P as h,Qa as m,Ra as b,Sa as _,U as R,ca as p,la as C,ma as V,r as v,wa as w}from"./chunk-UJIEDWPF.js";var j=function(){if(typeof Map<"u")return Map;function t(i,e){var r=-1;return i.some(function(n,o){return n[0]===e?(r=o,!0):!1}),r}return function(){function i(){this.__entries__=[]}return Object.defineProperty(i.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),i.prototype.get=function(e){var r=t(this.__entries__,e),n=this.__entries__[r];return n&&n[1]},i.prototype.set=function(e,r){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=r:this.__entries__.push([e,r])},i.prototype.delete=function(e){var r=this.__entries__,n=t(r,e);~n&&r.splice(n,1)},i.prototype.has=function(e){return!!~t(this.__entries__,e)},i.prototype.clear=function(){this.__entries__.splice(0)},i.prototype.forEach=function(e,r){r===void 0&&(r=null);for(var n=0,o=this.__entries__;n<o.length;n++){var s=o[n];e.call(r,s[1],s[0])}},i}()}(),S=typeof window<"u"&&typeof document<"u"&&window.document===document,y=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),G=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(y):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Y=2;function k(t,i){var e=!1,r=!1,n=0;function o(){e&&(e=!1,t()),r&&l()}function s(){G(o)}function l(){var a=Date.now();if(e){if(a-n<Y)return;r=!0}else e=!0,r=!1,setTimeout(s,i);n=a}return l}var X=20,B=["top","right","bottom","left","width","height","size","weight"],K=typeof MutationObserver<"u",J=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=k(this.refresh.bind(this),X)}return t.prototype.addObserver=function(i){~this.observers_.indexOf(i)||this.observers_.push(i),this.connected_||this.connect_()},t.prototype.removeObserver=function(i){var e=this.observers_,r=e.indexOf(i);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var i=this.updateObservers_();i&&this.refresh()},t.prototype.updateObservers_=function(){var i=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return i.forEach(function(e){return e.broadcastActive()}),i.length>0},t.prototype.connect_=function(){!S||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),K?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!S||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(i){var e=i.propertyName,r=e===void 0?"":e,n=B.some(function(o){return!!~r.indexOf(o)});n&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),I=function(t,i){for(var e=0,r=Object.keys(i);e<r.length;e++){var n=r[e];Object.defineProperty(t,n,{value:i[n],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){var i=t&&t.ownerDocument&&t.ownerDocument.defaultView;return i||y},q=T(0,0,0,0);function z(t){return parseFloat(t)||0}function P(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];return i.reduce(function(r,n){var o=t["border-"+n+"-width"];return r+z(o)},0)}function U(t){for(var i=["top","right","bottom","left"],e={},r=0,n=i;r<n.length;r++){var o=n[r],s=t["padding-"+o];e[o]=z(s)}return e}function Z(t){var i=t.getBBox();return T(0,0,i.width,i.height)}function $(t){var i=t.clientWidth,e=t.clientHeight;if(!i&&!e)return q;var r=f(t).getComputedStyle(t),n=U(r),o=n.left+n.right,s=n.top+n.bottom,l=z(r.width),a=z(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+o)!==i&&(l-=P(r,"left","right")+o),Math.round(a+s)!==e&&(a-=P(r,"top","bottom")+s)),!te(t)){var M=Math.round(l+o)-i,H=Math.round(a+s)-e;Math.abs(M)!==1&&(l-=M),Math.abs(H)!==1&&(a-=H)}return T(n.left,n.top,l,a)}var ee=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&typeof t.getBBox=="function"}}();function te(t){return t===f(t).document.documentElement}function ie(t){return S?ee(t)?Z(t):$(t):q}function re(t){var i=t.x,e=t.y,r=t.width,n=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return I(s,{x:i,y:e,width:r,height:n,top:e,right:i+r,bottom:n+e,left:i}),s}function T(t,i,e,r){return{x:t,y:i,width:e,height:r}}var ne=function(){function t(i){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=T(0,0,0,0),this.target=i}return t.prototype.isActive=function(){var i=ie(this.target);return this.contentRect_=i,i.width!==this.broadcastWidth||i.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var i=this.contentRect_;return this.broadcastWidth=i.width,this.broadcastHeight=i.height,i},t}(),oe=function(){function t(i,e){var r=re(e);I(this,{target:i,contentRect:r})}return t}(),se=function(){function t(i,e,r){if(this.activeObservations_=[],this.observations_=new j,typeof i!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=i,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(i instanceof f(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(i)||(e.set(i,new ne(i)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(i instanceof f(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(i)&&(e.delete(i),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var i=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&i.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var i=this.callbackCtx_,e=this.activeObservations_.map(function(r){return new oe(r.target,r.broadcastRect())});this.callback_.call(i,e,i),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Q=typeof WeakMap<"u"?new WeakMap:new j,F=function(){function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=J.getInstance(),r=new se(i,e,this);Q.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){F.prototype[t]=function(){var i;return(i=Q.get(this))[t].apply(i,arguments)}});var le=function(){return typeof y.ResizeObserver<"u"?y.ResizeObserver:F}(),O=le;var ce=["scrollbarWrap"],he=["scrollbarView"],ue=["verticalThumb"],fe=["horizontalThumb"],ve=["*"],Te=(()=>{class t{constructor(){this.nelNoresize=!1,this.nelOnScroll=new R,this.vertical={canScroll:!1,wrapHeight:0,scrollHeight:0,maxScrollTop:0,scrollTop:0,clientY:0,clientTop:0},this.horizontal={canScroll:!1,wrapWidth:0,scrollWidth:0,maxScrollLeft:0,scrollLeft:0,clientX:0,clientLeft:0},this.status="leave",this.inThumb=!1}set nelMaxHeight(e){e&&(typeof e=="number"?this.maxHeight=e+"px":this.maxHeight=e)}ngOnDestroy(){this.verticalMousemove&&this.verticalMousemove.unsubscribe(),this.verticalMouseup&&this.verticalMouseup.unsubscribe(),this.roWrap&&this.roWrap.unobserve(this.scrollbarWrap.nativeElement),this.roView&&this.roView.unobserve(this.scrollbarView.nativeElement)}ngAfterViewInit(){this.nelNoresize||(this.roWrap=new O((e,r)=>{for(let n of e){let{width:o,height:s}=n.contentRect;s!==this.vertical.wrapHeight&&this.initVertical(),o!==this.horizontal.wrapWidth&&this.initHorizontal()}}),this.roWrap.observe(this.scrollbarWrap.nativeElement),this.roView=new O((e,r)=>{for(let n of e){let{width:o,height:s}=n.contentRect;s!==this.vertical.scrollHeight&&this.initVertical(),o!==this.horizontal.scrollWidth&&this.initHorizontal()}}),this.roView.observe(this.scrollbarView.nativeElement)),this.initVertical(),this.initHorizontal()}initVertical(){if(this.vertical.wrapHeight=this.scrollbarWrap.nativeElement.offsetHeight,this.vertical.scrollHeight=this.scrollbarWrap.nativeElement.scrollHeight,this.maxHeight){let e=this.maxHeight.match(/([0-9]+)px/),r=0;if(e&&e.length>0&&(r=Number(e[1])),r>0&&r>this.vertical.wrapHeight){this.verticalThumb.nativeElement.style.height="";return}}if(this.vertical.scrollHeight>this.vertical.wrapHeight){this.vertical.canScroll=!0,this.vertical.maxScrollTop=this.vertical.scrollHeight-this.vertical.wrapHeight;let e=this.vertical.wrapHeight/this.vertical.scrollHeight;this.verticalThumb.nativeElement.style.height=e*100+"%",this.verticalScrollHandle()}}initHorizontal(){if(this.horizontal.wrapWidth=this.scrollbarWrap.nativeElement.offsetWidth,this.horizontal.scrollWidth=this.scrollbarWrap.nativeElement.scrollWidth,this.horizontal.scrollWidth>this.horizontal.wrapWidth){this.horizontal.canScroll=!0,this.horizontal.maxScrollLeft=this.horizontal.scrollWidth-this.horizontal.wrapWidth;let e=this.horizontal.wrapWidth/this.horizontal.scrollWidth;this.horizontalThumb.nativeElement.style.width=e*100+"%",this.horizontalScrollHandle()}}onWrapScroll(e){e.stopPropagation(),this.vertical.scrollTop=this.scrollbarWrap.nativeElement.scrollTop,this.verticalScrollHandle()}verticalScrollHandle(e=!1){this.vertical.scrollTop<0&&(this.vertical.scrollTop=0),this.vertical.scrollTop>this.vertical.maxScrollTop&&(this.vertical.scrollTop=this.vertical.maxScrollTop);let r=this.vertical.scrollTop/this.vertical.wrapHeight;this.verticalThumb.nativeElement.style.transform=`translateY(${r*100}%)`,e&&(this.scrollbarWrap.nativeElement.scrollTop=this.vertical.scrollTop),this.nelOnScroll.emit({scrollLeft:this.horizontal.scrollLeft,scrollTop:this.vertical.scrollTop})}mouseEnter(){this.status="enter"}mouseLeave(){this.inThumb||(this.status="leave")}verticalThumbDown(e){e.preventDefault(),this.vertical.clientY=e.clientY,this.vertical.clientTop=this.vertical.scrollTop,this.inThumb=!0,this.verticalMousemove=v(document,"mousemove").subscribe(r=>{this.verticalThumbMove(r)}),this.verticalMouseup=v(document,"mouseup").subscribe(()=>{this.inThumb=!1,this.verticalMousemove.unsubscribe(),this.verticalMouseup.unsubscribe()})}verticalThumbMove(e){e.preventDefault();let n=e.clientY-this.vertical.clientY,o=this.vertical.wrapHeight-this.verticalThumb.nativeElement.offsetHeight,s=this.vertical.scrollHeight-this.vertical.wrapHeight,l=n/o*s;this.vertical.scrollTop=this.vertical.clientTop+l,this.verticalScrollHandle(!0)}horizontalThumbDown(e){e.preventDefault(),this.horizontal.clientX=e.clientX,this.horizontal.clientLeft=this.horizontal.scrollLeft,this.inThumb=!0,this.horizontalMousemove=v(document,"mousemove").subscribe(r=>{this.horizontalThumbMove(r)}),this.horizontalMouseup=v(document,"mouseup").subscribe(()=>{this.inThumb=!1,this.horizontalMousemove.unsubscribe(),this.horizontalMouseup.unsubscribe()})}horizontalThumbMove(e){e.preventDefault();let n=e.clientX-this.horizontal.clientX,o=this.horizontal.wrapWidth-this.horizontalThumb.nativeElement.offsetWidth,s=this.horizontal.scrollWidth-this.horizontal.wrapWidth,l=n/o*s;this.horizontal.scrollLeft=this.horizontal.clientLeft+l,this.horizontalScrollHandle(!0)}horizontalScrollHandle(e=!1){this.horizontal.scrollLeft<0&&(this.horizontal.scrollLeft=0),this.horizontal.scrollLeft>this.horizontal.maxScrollLeft&&(this.horizontal.scrollLeft=this.horizontal.maxScrollLeft);let r=this.horizontal.scrollLeft/this.horizontal.wrapWidth;this.horizontalThumb.nativeElement.style.transform=`translateX(${r*100}%)`,e&&(this.scrollbarWrap.nativeElement.scrollLeft=this.horizontal.scrollLeft),this.nelOnScroll.emit({scrollLeft:this.horizontal.scrollLeft,scrollTop:this.vertical.scrollTop})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=C({type:t,selectors:[["nel-scrollbar"]],viewQuery:function(r,n){if(r&1&&(m(ce,5),m(he,5),m(ue,5),m(fe,5)),r&2){let o;b(o=_())&&(n.scrollbarWrap=o.first),b(o=_())&&(n.scrollbarView=o.first),b(o=_())&&(n.verticalThumb=o.first),b(o=_())&&(n.horizontalThumb=o.first)}},inputs:{nelHeight:"nelHeight",nelNoresize:"nelNoresize",nelMaxHeight:"nelMaxHeight",nelWrapClass:"nelWrapClass",nelViewClass:"nelViewClass"},outputs:{nelOnScroll:"nelOnScroll"},standalone:!1,ngContentSelectors:ve,decls:12,vars:14,consts:[["scrollbarWrap",""],["scrollbarView",""],["horizontalThumb",""],["verticalThumb",""],[1,"el-scrollbar",3,"mouseenter","mouseleave"],["cdkScrollable","",3,"scroll"],[1,"el-scrollbar__bar","is-horizontal"],[1,"el-scrollbar__thumb",3,"mousedown"],[1,"el-scrollbar__bar","is-vertical"]],template:function(r,n){if(r&1){let o=x();L(),u(0,"div",4),d("mouseenter",function(){return c(o),h(n.mouseEnter())})("mouseleave",function(){return c(o),h(n.mouseLeave())}),u(1,"div",5,0),d("scroll",function(l){return c(o),h(n.onWrapScroll(l))}),u(3,"div",null,1),D(5),g()(),u(6,"div",6)(7,"div",7,2),d("mousedown",function(l){return c(o),h(n.horizontalThumbDown(l))}),g()(),u(9,"div",8)(10,"div",7,3),d("mousedown",function(l){return c(o),h(n.verticalThumbDown(l))}),g()()()}r&2&&(p(),E("el-scrollbar__wrap el-scrollbar__wrap--hidden-default ",n.nelWrapClass,""),w("height",n.nelHeight)("max-height",n.maxHeight),p(2),E("el-scrollbar__view ",n.nelViewClass,""),p(3),w("display",!n.horizontal.canScroll||n.status=="leave"?"none":""),p(3),w("display",!n.vertical.canScroll||n.status=="leave"?"none":""))},dependencies:[A],encapsulation:2})}}return t})();var He=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=V({type:t})}static{this.\u0275inj=W({imports:[N]})}}return t})();export{Te as a,He as b};
